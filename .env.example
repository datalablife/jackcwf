# PostgreSQL Database Configuration
# Copy this file to .env and fill in your actual values
# NEVER commit .env file with actual secrets or credentials
# For production deployments, use environment variables from secure sources (AWS Secrets Manager, GCP Secret Manager, etc.)

# ============================================================================
# DATABASE CONFIGURATION (REQUIRED - NO DEFAULTS)
# ============================================================================
# All credentials must be obtained from your database provider
# Never use default or example values - set your actual connection details

# PostgreSQL async connection string (required)
# Format: postgresql+asyncpg://username:password@host:port/database_name
# DO NOT include credentials in code - always use this environment variable
DATABASE_URL=postgresql+asyncpg://your_username:your_password@your_host:5432/your_database

# PostgreSQL sync connection string (for non-async connections)
# Format: postgresql://username:password@host:port/database_name
DATABASE_URL_SYNC=postgresql://your_username:your_password@your_host:5432/your_database

# PostgreSQL Host
# Example: localhost, host.docker.internal, db.example.com, 192.168.1.100
POSTGRES_HOST=your_postgres_host

# PostgreSQL Port (default is 5432)
POSTGRES_PORT=5432

# PostgreSQL Username (not the password)
POSTGRES_USER=your_postgres_user

# PostgreSQL Database Name
POSTGRES_DB=your_database_name

# Optional: PostgreSQL Password (if using individual credentials instead of full URL)
# Note: It's better to include credentials in DATABASE_URL above
# POSTGRES_PASSWORD=your_password

# Optional: Database connection timeout (seconds)
DB_CONNECTION_TIMEOUT=10

# Optional: Database command timeout (seconds)
DB_COMMAND_TIMEOUT=60

# Optional: Database application name (for query logging)
DB_APPLICATION_NAME=langchain_ai_app

# ============================================================================
# ENCRYPTION & SECURITY
# ============================================================================
# NEVER use placeholder values in production
# Generate a secure key: python -c "import secrets; print(secrets.token_urlsafe(32))"

# Encryption key for sensitive data (required)
ENCRYPTION_KEY=your-256-bit-base64-encoded-key-change-in-production

# Secret key for session management
SECRET_KEY=your-secret-key-change-in-production

# JWT Secret for token signing
JWT_SECRET_KEY=your-jwt-secret-change-in-production

# JWT Algorithm (HS256, HS512, etc.)
JWT_ALGORITHM=HS256

# JWT Token expiration (minutes)
JWT_EXPIRATION_MINUTES=60

# ============================================================================
# APPLICATION CONFIGURATION
# ============================================================================
APP_NAME=AI Data Analyzer
APP_VERSION=0.1.0
ENVIRONMENT=development  # development, staging, production

# Debug mode (development only - NEVER true in production)
DEBUG=true

# Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================
FRONTEND_HOST=0.0.0.0
FRONTEND_PORT=3000
BACKEND_HOST=0.0.0.0
BACKEND_PORT=8000

# ============================================================================
# CORS CONFIGURATION
# ============================================================================
CORS_ORIGINS=["http://localhost:5173", "http://localhost:3000"]
CORS_ALLOW_CREDENTIALS=true

# ============================================================================
# FILE UPLOAD CONFIGURATION
# ============================================================================
MAX_FILE_SIZE=536870912  # 512 MB in bytes
UPLOAD_DIR=./tmp/uploads
SCHEMA_CACHE_TTL=300

# ============================================================================
# REDIS CONFIGURATION (optional)
# ============================================================================
REDIS_URL=redis://localhost:6379
REDIS_DB=0
REDIS_PASSWORD=

# ============================================================================
# EXTERNAL SERVICES (OPTIONAL)
# ============================================================================
# OpenAI API Key (if using OpenAI)
OPENAI_API_KEY=sk-your-api-key

# Google API Key (if using Google services)
GOOGLE_API_KEY=

# ============================================================================
# COOLIFY DEPLOYMENT CONFIGURATION (optional for Coolify deployments)
# ============================================================================
COOLIFY_URL=https://coolpanel.example.com
COOLIFY_API_TOKEN=your-coolify-api-token
COOLIFY_APP_UUID=your-app-uuid
COOLIFY_APP_NAME=docker-image-xxxxx
COOLIFY_FQDN=https://your-domain.com

# ============================================================================
# MONITORING & ANALYTICS (OPTIONAL)
# ============================================================================
# Sentry error tracking
SENTRY_DSN=

# Analytics ID
ANALYTICS_ID=

# ============================================================================
# FEATURE FLAGS
# ============================================================================
ENABLE_ANALYTICS=false
ENABLE_DEBUG_TOOLBAR=false
ENABLE_API_DOCS=true

# ============================================================================
# RATE LIMITING
# ============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60

# ============================================================================
# EMAIL CONFIGURATION (optional)
# ============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=noreply@example.com

# ============================================================================
# REFLEX CONFIGURATION
# ============================================================================
REFLEX_ENV=development
REFLEX_FRONTEND_PORT=3000
REFLEX_BACKEND_PORT=8000

# ============================================================================
# DATABASE SETUP & TESTING
# ============================================================================
# Set to true to enable SQL echo (very verbose - development only)
SQL_ECHO=false

# Testing flag
TESTING=false

# Test database URL (for running tests)
# Use a separate test database to avoid affecting production/development data
TEST_DATABASE_URL=postgresql://testuser:testpass@localhost:5432/testdb
