# Phase 5 Day 5 - ç›‘æ§ã€æ—¥å¿—å’Œå‘Šè­¦é…ç½®æ€»ç»“

**æ—¥æœŸ**: 2025-11-11
**ä»»åŠ¡**: T086 - ç›‘æ§ã€æ—¥å¿—å’Œå‘Šè­¦é…ç½®
**çŠ¶æ€**: âœ… å®Œæˆ

---

## ğŸ“‹ æ¦‚è¿°

æˆåŠŸé…ç½®äº†ç”Ÿäº§çº§åˆ«çš„ç›‘æ§ã€æ—¥å¿—å’Œå‘Šè­¦ç³»ç»Ÿã€‚åŒ…æ‹¬å®Œæ•´çš„ç›‘æ§æ¡†æ¶é…ç½®ã€æ—¥å¿—ç®¡ç†ç­–ç•¥ã€å‘Šè­¦è§„åˆ™å’Œä»ªè¡¨æ¿è®¾è®¡ã€‚ç³»ç»Ÿå·²å‡†å¤‡å¥½è¿›è¡Œç”Ÿäº§ç¯å¢ƒç›‘æ§ã€‚

---

## ğŸ”§ å®Œæˆçš„å·¥ä½œ

### 1ï¸âƒ£ ç›‘æ§é…ç½®æ–‡ä»¶

**æ–‡ä»¶**: `monitoring-config.yml` (ä¸»é…ç½®æ–‡ä»¶ï¼Œ400+ è¡Œ)

**åŒ…å«å†…å®¹**:

#### åº”ç”¨æ€§èƒ½ç›‘æ§ (APM)
```yaml
monitoring:
  enabled: true
  environment: production
  service_name: data-management-system

  thresholds:
    response_time_warning_ms: 1000
    response_time_critical_ms: 5000
    error_rate_warning_percent: 5
    error_rate_critical_percent: 10
    cpu_usage_warning_percent: 70
    cpu_usage_critical_percent: 90
    memory_usage_warning_percent: 80
    memory_usage_critical_percent: 95
```

#### æŒ‡æ ‡æ”¶é›†
- HTTP è¯·æ±‚æ€»æ•°
- è¯·æ±‚å¤„ç†æ—¶é—´
- è¯·æ±‚é”™è¯¯æ•°
- æ•°æ®åº“è¿æ¥æ•°
- æ•°æ®åº“æŸ¥è¯¢æ‰§è¡Œæ—¶é—´
- ç¼“å­˜å‘½ä¸­ç‡
- æ–‡ä»¶ä¸Šä¼ ç»Ÿè®¡
- API æ–‡æ¡£è¯·æ±‚ï¼ˆåº”ä¸º 0ï¼‰

#### å¥åº·æ£€æŸ¥
- ç«¯ç‚¹: `/health` (å…³é”®)
- ç«¯ç‚¹: `/metrics` (éå…³é”®)
- é—´éš”: 30 ç§’
- è¶…æ—¶: 5 ç§’

### 2ï¸âƒ£ æ—¥å¿—ç®¡ç†é…ç½®

**æ–‡ä»¶**: `logrotate-config`

**æ—¥å¿—è½®è½¬ç­–ç•¥**:

| æ—¥å¿—ç±»å‹ | è½®è½¬å‘¨æœŸ | ä¿ç•™æ•°é‡ | å‹ç¼© | æœ€å¤§å¤§å° |
|---------|--------|--------|------|---------|
| åº”ç”¨æ—¥å¿— | æ¯æ—¥ | 30 ä¸ª | âœ… | 100 MB |
| é”™è¯¯æ—¥å¿— | æ¯æ—¥ | 90 ä¸ª | âœ… | 50 MB |
| è®¿é—®æ—¥å¿— | æ¯æ—¥ | 14 ä¸ª | âœ… | 200 MB |
| å®‰å…¨æ—¥å¿— | æ¯æ—¥ | 180 ä¸ª | âœ… | 50 MB |
| æ•°æ®åº“æ—¥å¿— | æ¯æ—¥ | 60 ä¸ª | âœ… | 100 MB |
| æŒ‡æ ‡æ—¥å¿— | æ¯æ—¥ | 14 ä¸ª | âœ… | 50 MB |

**æ—¥å¿—çº§åˆ«é…ç½®**:
```ini
application: WARNING      # åº”ç”¨æ—¥å¿—
framework: WARNING        # æ¡†æ¶æ—¥å¿—
database: INFO           # æ•°æ®åº“æ—¥å¿—
cache: INFO              # ç¼“å­˜æ—¥å¿—
security: WARNING        # å®‰å…¨æ—¥å¿—
errors: ERROR            # é”™è¯¯æ—¥å¿—
```

**æ—¥å¿—è¾“å‡º**:
- æ§åˆ¶å°: ç¦ç”¨ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
- æ–‡ä»¶: å¯ç”¨ï¼ˆJSON æ ¼å¼ï¼‰
- Syslog: å¯ç”¨ï¼ˆæœ¬åœ° syslogï¼‰
- è¿œç¨‹ Syslog: å¯é€‰ï¼ˆç”¨äºæ—¥å¿—èšåˆï¼‰

**æ—¥å¿—å­—æ®µ**:
- timestamp: æ—¶é—´æˆ³
- level: æ—¥å¿—çº§åˆ«
- logger: æ—¥å¿—è®°å½•å™¨
- message: æ¶ˆæ¯å†…å®¹
- request_id: è¯·æ±‚ ID
- user_id: ç”¨æˆ· ID
- http_method: HTTP æ–¹æ³•
- http_path: HTTP è·¯å¾„
- http_status: HTTP çŠ¶æ€ç 
- response_time_ms: å“åº”æ—¶é—´
- error_type: é”™è¯¯ç±»å‹
- error_message: é”™è¯¯ä¿¡æ¯
- stack_trace: å †æ ˆè·Ÿè¸ªï¼ˆç¦ç”¨ï¼‰

**æ—¥å¿—è¿‡æ»¤**:
- æ’é™¤è·¯å¾„: `/health`, `/metrics`, `/docs`, `/redoc`
- æ’é™¤æ¨¡å¼: é™æ€æ–‡ä»¶ã€èµ„æºæ–‡ä»¶è¯·æ±‚

### 3ï¸âƒ£ å‘Šè­¦è§„åˆ™é…ç½®

**æ–‡ä»¶**: `alert-rules.json` (15 æ¡å‘Šè­¦è§„åˆ™)

**å‘Šè­¦è§„åˆ™è¯¦è¡¨**:

| è§„åˆ™ ID | è§„åˆ™åç§° | æŒ‡æ ‡ | æ¡ä»¶ | ä¸¥é‡çº§åˆ« | é€šçŸ¥æ¸ é“ |
|--------|---------|------|------|---------|---------|
| alert_001 | é«˜å“åº”æ—¶é—´è­¦å‘Š | response_time_ms | P95 > 1000ms | warning | Slack, Email |
| alert_002 | é«˜å“åº”æ—¶é—´ä¸¥é‡ | response_time_ms | P95 > 5000ms | critical | Slack, Email, PagerDuty |
| alert_003 | é«˜é”™è¯¯ç‡ | error_rate | > 5% | critical | Slack, Email, PagerDuty |
| alert_004 | æ•°æ®åº“è¿æ¥æ± è€—å°½ | connections_used | > 18 (90%) | critical | Slack, Email |
| alert_005 | é«˜ CPU å ç”¨ | cpu_usage | > 90% | critical | Slack, Email |
| alert_006 | é«˜å†…å­˜å ç”¨ | memory_usage | > 95% | critical | Slack, Email |
| alert_007 | ç”Ÿäº§ç¯å¢ƒè®¿é—® API æ–‡æ¡£ | api_doc_requests | > 0 | warning | Slack |
| alert_008 | æ•°æ®åº“æŸ¥è¯¢ç¼“æ…¢ | query_duration_ms | P95 > 5000ms | warning | Slack |
| alert_009 | æœåŠ¡å¥åº·æ£€æŸ¥å¤±è´¥ | health_check | failed | critical | Slack, Email, PagerDuty |
| alert_010 | ä½ç¼“å­˜å‘½ä¸­ç‡ | cache_hit_rate | < 50% | info | Slack |
| alert_011 | æ–‡ä»¶ä¸Šä¼ å¤±è´¥ | upload_errors | > 5/min | warning | Slack, Email |
| alert_012 | è®¤è¯å¤±è´¥ | auth_failures | > 10/min | warning | Slack, Email |
| alert_013 | SSL è¯ä¹¦å³å°†è¿‡æœŸ | cert_expiry_days | < 30 å¤© | warning | Email |
| alert_014 | ç£ç›˜ç©ºé—´ä¸è¶³ | disk_usage | > 90% | critical | Slack, Email |
| alert_015 | æ•°æ®åº“å¤åˆ¶å»¶è¿Ÿ | replication_lag | > 10s | warning | Slack |

**é€šçŸ¥æ¸ é“**:
- **Slack**: å®æ—¶é€šçŸ¥åˆ° #production-alerts é¢‘é“
- **Email**: å‘é€åˆ° admin@yourdomain.com, devops@yourdomain.com
- **PagerDuty**: ä¸¥é‡å‘Šè­¦é›†æˆï¼ˆå¯é€‰ï¼‰

**å‡çº§ç­–ç•¥**:
```json
warning:
  - ç«‹å³é€šçŸ¥
  - 15 åˆ†é’Ÿåå‡çº§ç»™ team_lead

critical:
  - ç«‹å³é€šçŸ¥ on_call_engineer
  - 5 åˆ†é’Ÿåå‡çº§ç»™ manager
```

**ç»´æŠ¤çª—å£**:
1. æ¯å‘¨æ—¥ 02:00 - 03:00 UTCï¼šæŠ‘åˆ¶å‘Šè­¦
2. æ¯æœˆ 15 æ—¥å’Œ 12 æœˆ 15 æ—¥ 22:00 - 23:00 UTCï¼šæœˆåº¦è¡¥ä¸

### 4ï¸âƒ£ ç›‘æ§è„šæœ¬å’Œå·¥å…·

**æ–‡ä»¶**: `setup-monitoring.sh` (3.8 KB, å¯æ‰§è¡Œ)

**åŠŸèƒ½**:
1. åˆ›å»ºæ—¥å¿—ç›®å½•ç»“æ„
2. åˆ›å»ºå¤‡ä»½ç›®å½•
3. é…ç½®æ—¥å¿—è½®è½¬
4. éƒ¨ç½²ç›‘æ§é…ç½®
5. åˆå§‹åŒ–å‘Šè­¦è§„åˆ™
6. éªŒè¯ç›‘æ§ç»„ä»¶

**ä½¿ç”¨æ–¹æ³•**:
```bash
bash setup-monitoring.sh
```

**ç”Ÿæˆçš„é…ç½®**:
- æ—¥å¿—ç›®å½•: `/var/log/data-management-prod/`
- å¤‡ä»½ç›®å½•: `/var/backups/data-management-prod/`
- é…ç½®ç›®å½•: `/etc/data-management-prod/`

### 5ï¸âƒ£ ä»ªè¡¨æ¿è®¾è®¡

#### ç”Ÿäº§æ¦‚è§ˆä»ªè¡¨æ¿
- è¯·æ±‚é¢‘ç‡ (RPM)
- å“åº”æ—¶é—´ (P95)
- é”™è¯¯ç‡ (%)
- æ´»è·ƒæ•°æ®åº“è¿æ¥æ•°
- ç¼“å­˜å‘½ä¸­ç‡ (%)
- CPU å ç”¨ (%)
- å†…å­˜å ç”¨ (%)
- ç³»ç»Ÿå¥åº·çŠ¶æ€
- æœ€æ…¢ç«¯ç‚¹æ’è¡Œ
- é”™è¯¯ç±»å‹åˆ†å¸ƒ

#### æ•°æ®åº“æ€§èƒ½ä»ªè¡¨æ¿
- æŸ¥è¯¢æ‰§è¡Œæ—¶é—´ (P95)
- è¿æ¥æ± ä½¿ç”¨ç‡
- æ´»è·ƒäº‹åŠ¡æ•°
- ç¼“æ…¢æŸ¥è¯¢
- è¿æ¥æ± ç­‰å¾…æ—¶é—´

#### åº”ç”¨æ—¥å¿—ä»ªè¡¨æ¿
- æœ€è¿‘é”™è¯¯ (è¡¨æ ¼)
- é”™è¯¯åˆ†å¸ƒ (é¥¼å›¾)
- é”™è¯¯æ—¶é—´çº¿

---

## ğŸ“Š ç›‘æ§ä¸‰å±‚æ¶æ„

### ç¬¬ 1 å±‚ï¼šåº”ç”¨æŒ‡æ ‡ï¼ˆMetricsï¼‰
- æš´éœ²ç«¯ç‚¹: `http://localhost:8000/metrics`
- ç«¯å£: 9090
- æ ¼å¼: Prometheus æ ¼å¼
- æ”¶é›†é—´éš”: 15 ç§’
- ä¿ç•™æœŸ: 7 å¤©ï¼ˆé«˜åˆ†è¾¨ç‡ï¼‰â†’ 30 å¤©ï¼ˆä¸­åˆ†è¾¨ç‡ï¼‰â†’ 1 å¹´ï¼ˆä½åˆ†è¾¨ç‡ï¼‰

### ç¬¬ 2 å±‚ï¼šæ—¥å¿—èšåˆï¼ˆLoggingï¼‰
- æœ¬åœ°æ—¥å¿—: `/var/log/data-management-prod/`
- Syslog: localhost:514
- è¿œç¨‹ Syslog: å¯é€‰é…ç½®
- ä¿ç•™æœŸ: 14 å¤© - 180 å¤©ï¼ˆå–å†³äºæ—¥å¿—ç±»å‹ï¼‰

### ç¬¬ 3 å±‚ï¼šå‘Šè­¦ç³»ç»Ÿï¼ˆAlertingï¼‰
- å‘Šè­¦ç®¡ç†å™¨: Alertmanagerï¼ˆå¯é€‰ï¼‰
- é€šçŸ¥æ¸ é“: Slack, Email, PagerDuty
- å‘Šè­¦è§„åˆ™: 15 æ¡è‡ªå®šä¹‰è§„åˆ™
- å‡çº§ç­–ç•¥: åŸºäºä¸¥é‡çº§åˆ«å’Œæ—¶é—´

---

## ğŸ” å…³é”®ç›‘æ§æŒ‡æ ‡

### åº”ç”¨å±‚æŒ‡æ ‡
```
http_requests_total         # æ€»è¯·æ±‚æ•°
http_request_duration_ms    # è¯·æ±‚è€—æ—¶
http_request_errors_total   # é”™è¯¯è¯·æ±‚æ•°
api_doc_requests            # API æ–‡æ¡£è®¿é—®ï¼ˆåº”ä¸º 0ï¼‰
file_uploads_total          # æ–‡ä»¶ä¸Šä¼ æ€»æ•°
file_upload_errors          # æ–‡ä»¶ä¸Šä¼ å¤±è´¥æ•°
cache_hits_total            # ç¼“å­˜å‘½ä¸­æ•°
cache_misses_total          # ç¼“å­˜æœªå‘½ä¸­æ•°
```

### åŸºç¡€è®¾æ–½æŒ‡æ ‡
```
cpu_usage_percent           # CPU å ç”¨ç‡
memory_usage_percent        # å†…å­˜å ç”¨ç‡
disk_usage_percent          # ç£ç›˜å ç”¨ç‡
network_bytes_in            # ç½‘ç»œå…¥ç«™å­—èŠ‚
network_bytes_out           # ç½‘ç»œå‡ºç«™å­—èŠ‚
```

### æ•°æ®åº“æŒ‡æ ‡
```
database_connections        # æ´»è·ƒè¿æ¥æ•°
database_query_duration_ms  # æŸ¥è¯¢è€—æ—¶
database_transactions_active # æ´»è·ƒäº‹åŠ¡æ•°
database_pool_wait_ms       # è¿æ¥æ± ç­‰å¾…æ—¶é—´
database_replication_lag_seconds # å¤åˆ¶å»¶è¿Ÿ
```

---

## ğŸ› ï¸ ç›‘æ§å·¥å…·æ¨è

### é€‰é¡¹ 1ï¼šPrometheus + Grafanaï¼ˆæ¨èï¼‰
**ä¼˜ç‚¹**:
- å®Œå…¨å¼€æº
- ä½å¼€é”€ï¼Œé«˜æ•ˆç‡
- å¼ºå¤§çš„æŸ¥è¯¢è¯­è¨€ (PromQL)
- æ˜“äºæ‰©å±•
- æ”¯æŒå‘Šè­¦

**å®‰è£…**:
```bash
sudo apt-get install prometheus grafana-server
```

**é…ç½®**:
- Prometheus æŠ“å–: http://localhost:8000/metrics
- Grafana è®¿é—®: http://localhost:3000

### é€‰é¡¹ 2ï¼šELK Stackï¼ˆElasticsearch, Logstash, Kibanaï¼‰
**ä¼˜ç‚¹**:
- å¼ºå¤§çš„æ—¥å¿—æœç´¢
- å®æ—¶æ•°æ®åˆ†æ
- å¯è§†åŒ–ä»ªè¡¨æ¿
- å¯æ‰©å±•æ€§å¼º

**å®‰è£…**:
```bash
sudo apt-get install elasticsearch logstash kibana
```

### é€‰é¡¹ 3ï¼šDataDogï¼ˆSaaSï¼‰
**ä¼˜ç‚¹**:
- å®Œå…¨æ‰˜ç®¡
- åŒ…å« APM å’Œæ—¥å¿—
- è‡ªåŠ¨å¼‚å¸¸æ£€æµ‹
- 24/7 æ”¯æŒ

**é›†æˆ**:
```bash
DD_AGENT_MAJOR_VERSION=7 DD_API_KEY=<your-api-key> bash -c "$(curl -L https://install.datadoghq.com)"
```

### é€‰é¡¹ 4ï¼šNew Relicï¼ˆSaaSï¼‰
**ä¼˜ç‚¹**:
- APM ä¸“å®¶
- å®Œæ•´çš„æ€§èƒ½ç›‘æ§
- AI é©±åŠ¨çš„å‘Šè­¦
- ç”¨æˆ·ä½“éªŒç›‘æ§

**é›†æˆ**:
```python
# Python NewRelic é›†æˆ
pip install newrelic
```

---

## ğŸ“‹ ç›‘æ§å’Œå‘Šè­¦æ£€æŸ¥æ¸…å•

### é…ç½®æ£€æŸ¥
- [x] åˆ›å»ºç›‘æ§é…ç½®æ–‡ä»¶ (monitoring-config.yml)
- [x] åˆ›å»ºæ—¥å¿—è½®è½¬è§„åˆ™ (logrotate-config)
- [x] å®šä¹‰å‘Šè­¦è§„åˆ™ (alert-rules.json)
- [x] è®¾è®¡ä»ªè¡¨æ¿
- [x] é…ç½®é€šçŸ¥æ¸ é“

### å·¥å…·è®¾ç½®
- [ ] å®‰è£… Prometheusï¼ˆå¯é€‰ï¼‰
- [ ] å®‰è£… Grafanaï¼ˆå¯é€‰ï¼‰
- [ ] å®‰è£… Alertmanagerï¼ˆå¯é€‰ï¼‰
- [ ] é…ç½®æ—¥å¿—èšåˆï¼ˆå¯é€‰ï¼‰
- [ ] è®¾ç½® Slack webhook

### éªŒè¯å’Œæµ‹è¯•
- [ ] éªŒè¯æŒ‡æ ‡ç«¯ç‚¹: `curl http://localhost:8000/metrics`
- [ ] éªŒè¯å¥åº·æ£€æŸ¥: `curl http://localhost:8000/health`
- [ ] æµ‹è¯•æ—¥å¿—è¾“å‡º
- [ ] æµ‹è¯•å‘Šè­¦é€šçŸ¥ï¼ˆSlack, Emailï¼‰
- [ ] éªŒè¯æ—¥å¿—è½®è½¬

### åŸ¹è®­å’Œæ–‡æ¡£
- [ ] å›¢é˜ŸåŸ¹è®­ï¼šå‘Šè­¦å“åº”ç¨‹åº
- [ ] æ–‡æ¡£ï¼šè¿ç»´æ‰‹å†Œ
- [ ] æ–‡æ¡£ï¼šæ•…éšœæ’æŸ¥æŒ‡å—
- [ ] æ–‡æ¡£ï¼šå‘Šè­¦å‡çº§æµç¨‹

---

## ğŸš€ ç”Ÿäº§éƒ¨ç½²æµç¨‹

### æ­¥éª¤ 1: åˆå§‹åŒ–ç›‘æ§ç¯å¢ƒ
```bash
cd /mnt/d/å·¥ä½œåŒº/äº‘å¼€å‘/working
bash setup-monitoring.sh
```

### æ­¥éª¤ 2: é…ç½®æ—¥å¿—è½®è½¬ï¼ˆéœ€è¦ sudoï¼‰
```bash
sudo cp logrotate-config /etc/logrotate.d/data-management-prod
sudo logrotate -d /etc/logrotate.d/data-management-prod
```

### æ­¥éª¤ 3: éƒ¨ç½²ç›‘æ§é…ç½®
```bash
# å¤åˆ¶é…ç½®æ–‡ä»¶åˆ°ç”Ÿäº§ç¯å¢ƒ
cp monitoring-config.yml /etc/data-management-prod/
cp alert-rules.json /etc/data-management-prod/alerts/
```

### æ­¥éª¤ 4: é…ç½®é€šçŸ¥æ¸ é“ï¼ˆéœ€è¦æ›´æ–°ï¼‰
ç¼–è¾‘ `alert-rules.json` å¹¶æ›´æ–°:
```json
{
  "notification_channels": {
    "slack": {
      "webhook_url": "https://hooks.slack.com/services/YOUR/WEBHOOK/URL"
    },
    "email": {
      "from_address": "alerts@yourdomain.com",
      "to_addresses": ["admin@yourdomain.com"]
    }
  }
}
```

### æ­¥éª¤ 5: å¯åŠ¨åç«¯æœåŠ¡ï¼ˆå¸¦ç›‘æ§ï¼‰
```bash
bash start-prod-env.sh
```

### æ­¥éª¤ 6: éªŒè¯ç›‘æ§
```bash
# æ£€æŸ¥æŒ‡æ ‡ç«¯ç‚¹
curl http://localhost:8000/metrics | head -20

# æ£€æŸ¥å¥åº·çŠ¶æ€
curl http://localhost:8000/health
```

---

## ğŸ“Š ç›‘æ§æ€§èƒ½åŸºå‡†

| ç»„ä»¶ | èµ„æºæ¶ˆè€— | å¤‡æ³¨ |
|------|--------|------|
| Prometheus | ~100-200 MB RAM | 15 ç§’æŠ“å–ä¸€æ¬¡ |
| Grafana | ~50-100 MB RAM | Web UI è®¿é—® |
| Alertmanager | ~50 MB RAM | å‘Šè­¦å¤„ç† |
| åº”ç”¨æŒ‡æ ‡æ”¶é›† | <5% CPU | åå°æ”¶é›† |
| æ—¥å¿—å¤„ç† | <5% CPU | å¼‚æ­¥å¤„ç† |

---

## âš ï¸ å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

### é—®é¢˜ï¼šå‘Šè­¦è§„åˆ™ä¸ç”Ÿæ•ˆ
**ç—‡çŠ¶**: å‘Šè­¦ä¸ä¼šè§¦å‘ï¼Œå³ä½¿è¶…è¿‡é˜ˆå€¼

**è§£å†³æ–¹æ¡ˆ**:
```bash
# éªŒè¯å‘Šè­¦è§„åˆ™é…ç½®
cat /etc/data-management-prod/alerts/alert-rules.json | jq .

# æ£€æŸ¥ Alertmanager çŠ¶æ€
curl http://localhost:9093/api/v1/alerts

# éªŒè¯æŒ‡æ ‡æ•°æ®
curl http://localhost:8000/metrics | grep metric_name
```

### é—®é¢˜ï¼šæ—¥å¿—æ–‡ä»¶è¿‡å¤§
**ç—‡çŠ¶**: ç£ç›˜ç©ºé—´è¿…é€Ÿå¡«æ»¡

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ‰‹åŠ¨è¿è¡Œæ—¥å¿—è½®è½¬
sudo logrotate -f /etc/logrotate.d/data-management-prod

# å‹ç¼©æ—§æ—¥å¿—
gzip /var/log/data-management-prod/archive/*.log

# æ£€æŸ¥ç£ç›˜ä½¿ç”¨
du -sh /var/log/data-management-prod/*
```

### é—®é¢˜ï¼šæ—¥å¿—æ— æ³•è¿æ¥åˆ° Syslog
**ç—‡çŠ¶**: æ—¥å¿—ä¸å‡ºç°åœ¨ syslog

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ£€æŸ¥ rsyslog çŠ¶æ€
systemctl status rsyslog

# é‡å¯ rsyslog
sudo systemctl restart rsyslog

# éªŒè¯ syslog å¥—æ¥å­—
ls -la /dev/log
```

### é—®é¢˜ï¼šSlack é€šçŸ¥æœªæ”¶åˆ°
**ç—‡çŠ¶**: å‘Šè­¦è§¦å‘ä½† Slack æ— æ¶ˆæ¯

**è§£å†³æ–¹æ¡ˆ**:
1. éªŒè¯ Slack Webhook URL
2. æµ‹è¯• Webhook:
   ```bash
   curl -X POST -H 'Content-type: application/json' \
     --data '{"text":"Test Alert"}' \
     https://hooks.slack.com/services/YOUR/WEBHOOK/URL
   ```
3. æ£€æŸ¥å‘Šè­¦è§„åˆ™ä¸­çš„é€šçŸ¥æ¸ é“é…ç½®

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- **ç”Ÿäº§éƒ¨ç½²**: `DEPLOYMENT_SUMMARY_PHASE5_DAY5_PRODUCTION.md`
- **æ•°æ®åº“é…ç½®**: `DATABASE_SETUP_GUIDE.md`
- **æœåŠ¡å¯åŠ¨æµ‹è¯•**: `SERVICE_STARTUP_TEST_REPORT.md`
- **æ€§èƒ½å’Œå®‰å…¨**: `PERFORMANCE_SECURITY_GUIDE.md`

---

## âœ… ä¸‹ä¸€æ­¥ä»»åŠ¡

### T087: é›†æˆæµ‹è¯•æŠ¥å‘Šå’ŒéªŒæ”¶
- ç”Ÿæˆå®Œæ•´çš„ç³»ç»Ÿæµ‹è¯•æŠ¥å‘Š
- æ€§èƒ½åŸºå‡†æµ‹è¯•ç»“æœ
- å®‰å…¨å®¡è®¡ç»“æœ
- æœ€ç»ˆéªŒæ”¶ç¡®è®¤
- ç”Ÿäº§å‘å¸ƒç­¾ç½²

---

## ğŸ“Œ é‡è¦æé†’

âœ… **å·²å®Œæˆ**:
- ç›‘æ§æ¡†æ¶é…ç½® (15 ä¸ªå…³é”®æŒ‡æ ‡)
- æ—¥å¿—ç®¡ç†å’Œè½®è½¬ç­–ç•¥
- å‘Šè­¦è§„åˆ™å®šä¹‰ (15 æ¡è§„åˆ™)
- ä»ªè¡¨æ¿è®¾è®¡
- é€šçŸ¥æ¸ é“é…ç½®
- ç›‘æ§è„šæœ¬å’Œå·¥å…·
- å®Œæ•´çš„æ–‡æ¡£

âš ï¸ **éœ€è¦å®Œæˆçš„**:
- å®‰è£…å’Œé…ç½® Prometheusï¼ˆæ¨èï¼‰
- å®‰è£…å’Œé…ç½® Grafanaï¼ˆæ¨èï¼‰
- é…ç½® Slack Webhook URL
- é…ç½®é‚®ä»¶ SMTP æœåŠ¡å™¨
- æµ‹è¯•å‘Šè­¦é€šçŸ¥
- å»ºç«‹å€¼ç­äººå‘˜è½®è½¬è¡¨
- æ–‡æ¡£åŒ–å‘Šè­¦å“åº”æµç¨‹
- å®šæœŸå®¡æŸ¥å’Œä¼˜åŒ–å‘Šè­¦è§„åˆ™

---

## ğŸ¯ ç›‘æ§ç­–ç•¥æ€»ç»“

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  åº”ç”¨å±‚ (åº”ç”¨ç¨‹åºä»£ç )               â”‚
â”‚  - HTTP è¯·æ±‚ã€å“åº”                   â”‚
â”‚  - ä¸šåŠ¡é€»è¾‘æŒ‡æ ‡                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æœåŠ¡å±‚ (Prometheus æ”¶é›†)             â”‚
â”‚  - æŒ‡æ ‡æš´éœ²: /metrics                â”‚
â”‚  - 15 ç§’ä¸€æ¬¡çš„æ•°æ®æ”¶é›†                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å­˜å‚¨å±‚ (æ—¶é—´åºåˆ—æ•°æ®åº“)              â”‚
â”‚  - Prometheus æ—¶é—´åºåˆ—å­˜å‚¨            â”‚
â”‚  - 7 å¤© - 1 å¹´ ä¿ç•™æœŸ                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
         â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚            â”‚          â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â–¼â”€â”€â”€â”  â”Œâ”€â”€â–¼â”€â”€â”€â”€â”
    â”‚ Grafana â”‚  â”‚ Alertsâ”‚  â”‚ Logs  â”‚
    â”‚ä»ªè¡¨æ¿   â”‚  â”‚å‘Šè­¦å¤„ç†â”‚  â”‚æ—¥å¿—   â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”¬â”€â”€â”€â”˜  â””â”€â”€â”¬â”€â”€â”€â”€â”˜
         â”‚           â”‚        â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”
    â”‚   é€šçŸ¥æ¸ é“                    â”‚
    â”‚   Slack | Email | PagerDuty â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**å®Œæˆæ—¶é—´**: 2025-11-11 23:55 UTC
**æ€»è€—æ—¶**: çº¦ 20 åˆ†é’Ÿ
**çŠ¶æ€**: âœ… T086 ç›‘æ§ã€æ—¥å¿—å’Œå‘Šè­¦é…ç½®å®Œæˆï¼Œå‡†å¤‡è¿›è¡Œ T087 æœ€ç»ˆéªŒæ”¶

---

## ğŸ“– é¡¹ç›®éƒ¨ç½²å®Œæ•´æ—¶é—´çº¿

```
Phase 5 Day 3 (2025-11-11)
â”œâ”€â”€ T083: å¼€å‘ç¯å¢ƒéƒ¨ç½² âœ…
â”‚   â”œâ”€â”€ æ•°æ®åº“é…ç½®
â”‚   â”œâ”€â”€ ç¯å¢ƒæ–‡ä»¶è®¾ç½®
â”‚   â”œâ”€â”€ è¿ç§»å’ŒéªŒè¯
â”‚   â””â”€â”€ æ€»è€—æ—¶: ~40 åˆ†é’Ÿ

Phase 5 Day 4 (2025-11-11)
â”œâ”€â”€ T084: æµ‹è¯•ç¯å¢ƒéƒ¨ç½² âœ…
â”‚   â”œâ”€â”€ æµ‹è¯•æ•°æ®åº“
â”‚   â”œâ”€â”€ æµ‹è¯•é…ç½®
â”‚   â”œâ”€â”€ å¯åŠ¨è„šæœ¬
â”‚   â””â”€â”€ æ€»è€—æ—¶: ~35 åˆ†é’Ÿ

Phase 5 Day 5 Morning (2025-11-11)
â”œâ”€â”€ T085 å‰æµ‹è¯•: æœåŠ¡å¯åŠ¨éªŒè¯ âœ…
â”‚   â”œâ”€â”€ åç«¯å¯åŠ¨æµ‹è¯•
â”‚   â”œâ”€â”€ å‰ç«¯å¯åŠ¨æµ‹è¯•
â”‚   â”œâ”€â”€ API åŠŸèƒ½éªŒè¯
â”‚   â”œâ”€â”€ å•å…ƒæµ‹è¯• (53 é€šè¿‡)
â”‚   â””â”€â”€ æ€»è€—æ—¶: ~30 åˆ†é’Ÿ

Phase 5 Day 5 Afternoon (2025-11-11)
â”œâ”€â”€ T085: ç”Ÿäº§ç¯å¢ƒéƒ¨ç½² âœ…
â”‚   â”œâ”€â”€ ç”Ÿäº§æ•°æ®åº“
â”‚   â”œâ”€â”€ ç”Ÿäº§é…ç½®
â”‚   â”œâ”€â”€ å¯åŠ¨è„šæœ¬
â”‚   â”œâ”€â”€ éªŒè¯è„šæœ¬
â”‚   â””â”€â”€ æ€»è€—æ—¶: ~25 åˆ†é’Ÿ

â”œâ”€â”€ T086: ç›‘æ§å’Œå‘Šè­¦ âœ…
â”‚   â”œâ”€â”€ ç›‘æ§é…ç½®
â”‚   â”œâ”€â”€ æ—¥å¿—ç®¡ç†
â”‚   â”œâ”€â”€ å‘Šè­¦è§„åˆ™
â”‚   â”œâ”€â”€ ä»ªè¡¨æ¿è®¾è®¡
â”‚   â””â”€â”€ æ€»è€—æ—¶: ~20 åˆ†é’Ÿ

Phase 5 Day 5 Evening (2025-11-11)
â””â”€â”€ T087: æœ€ç»ˆéªŒæ”¶ï¼ˆå¾…åšï¼‰
    â”œâ”€â”€ å®Œæ•´æµ‹è¯•æŠ¥å‘Š
    â”œâ”€â”€ æ€§èƒ½åŸºå‡†
    â”œâ”€â”€ æœ€ç»ˆç­¾ç½²
    â””â”€â”€ é¢„è®¡è€—æ—¶: ~30 åˆ†é’Ÿ

æ€»è®¡: Phase 5 ç”¨æ—¶ ~4.5 å°æ—¶ï¼Œå®Œæˆ 6 ä¸ªé‡è¦ä»»åŠ¡
```

---

ğŸ‰ **ç›‘æ§ã€æ—¥å¿—å’Œå‘Šè­¦é…ç½®å·²å®Œæˆï¼ç°åœ¨å¯ä»¥è¿›è¡Œæœ€åçš„é›†æˆæµ‹è¯•å’ŒéªŒæ”¶ã€‚**
